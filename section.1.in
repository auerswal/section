.TH section 1 "@DATE@" @VERSION@ "print indented sections"

.SH NAME
section \- print indented text sections selected via matching a pattern

.SH SYNOPSIS
.B section
.I [OPTIONS] PATTERN [FILE...]

.SH DESCRIPTION
By default,
.B section
searches for
.I PATTERN
in each
.I FILE
(or standard input if no
.I FILE
is given), and prints the matching lines,
as well as any directly following lines indented deeper than the preceding
matching line,
to standard output.
.P
.I PATTERN
is a regular expression, see section
.B "REGULAR EXPRESSIONS"
below.

.SH OPTIONS
Options can be used to modify the operation of
.BR section .
.B section
uses Go's
.I flag
package for option processing.

.SS Print information about the section binary:
.TP
.SS \-h, \-\-help
Write a help message to standard output.
.TP
.SS \-V, \-\-version
Write version information to standard output.

.SS Control pattern matching:
.TP
.SS \-i, \-\-ignore\-case
Ignore case distinctions for pattern matching,
so that characters that differ only in case match each other.
.TP
.SS \-\-invert\-match
Match sections
.B not
starting with
.IR PATTERN .

.SS Control section boundary determination:
.TP
.SS \-\-ignore\-blank
Ignore the indentation level of blank lines,
so that sections always continue across them.
.TP
.SS \-\-yaml
Support YAML list indentation in addition to white space based indentation.

.SS Control output format:
.TP
.SS \-\-label LABEL
Use
.I LABEL
instead of the default of
.B (standard input)
in place of a file name for data from standard input when the
.B \-\-with\-filename
option is given.
.TP
.SS \-n, \-\-line\-number
Prefix each output line with the line number in the respective input file,
followed by the prefix delimiter.
The line number is added after the file name when both options
.B \-\-line\-number
and
.B \-\-with\-filename
are given.
.TP
.SS \-\-omit
Omit matched sections,
print everything else instead.
.TP
.SS \-\-omit\-ignored
Do not print lines that are ignored when determining section breaks.
.TP
.SS \-\-prefix\-delimiter DELIMITER
Use the given
.I DELIMITER
instead of the default of a colon
.RB ( : )
as prefix delimiter.
.I DELIMITER
need not be a single character.
.TP
.SS \-q, \-\-quiet, \-\-silent
Suppress all normal output.
The exit code can be used to determine if the
.I PATTERN
was matched or not.
Error messages are still printed.
.TP
.SS \-\-separator
Print a separator line between matched sections.
This allows distinguishing separate sections in the output independent of the
indentation of individual lines.
The output produced when using this option is a simple form of stanza format
without line continuations.
.IP
When used together with
.BR \-\-omit ,
consecutively omitted sections are indicated by a single separator line.
.TP
.SS \-\-separator\-string SEPARATOR
Use the given
.I SEPARATOR
instead of the default of two ASCII hyphen characters
.RB ( \-\- )
when printing section separators.
A newline is printed after the separator string.
.TP
.SS \-\-with\-filename
Prefix each output line with the file name, followed by the prefix delimiter.
The file name is added in front of the line number when both options
.B \-\-with\-filename
and
.B \-\-line\-number
are given.

.SH "REGULAR EXPRESSIONS"
.B section
uses Go's
.I regexp
package, and thus understands the
.I RE2
syntax described at
.UR https://golang.org/s/re2syntax
.UE .

.SH EXIT STATUS
.IP \(bu
0, if at least one line matched the
.I PATTERN
.IP \(bu
1, if no line matched the
.I PATTERN
.IP \(bu
2, if an error occurred

.SH "BUGS AND LIMITATIONS"
.IP \(bu
.B section
does not distinguish between
.I Space
and
.I Tab
characters used for indentation.
.IP \(bu
The maxmimum line size supported by
.B section
is
.IR "512 MiB" .
.IP \(bu
Regular expressions are limited to those supported by Go's
.I regexp
package.
.IP \(bu
Options are implemented with Go's
.I flag
package.
Thus single character options cannot be combined,
options longer than a single character cannot be abbreviated,
and all options can be started by either a single or a double hyphen.

.SH AUTHOR
.B section
was written by Erik Auerswald <auerswal@unix\-ag.uni\-kl.de>.

.SH COPYRIGHT
Copyright \(co @CRYEARS@ Erik Auerswald.
License GPLv3+: GNU GPL version 3 or later
.UR http://gnu.org/licenses/gpl.html
.UE
.P
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

.SH "SEE ALSO"
.BR awk (1),
.BR grep (1),
.BR expand (1),
.BR unexpand (1),
.P
.B go doc
.IR flag ,
.B go doc
.IR regexp ,
.P
.UR https://www.unix\-ag.uni\-kl.de/~auerswal/section/
.UE
